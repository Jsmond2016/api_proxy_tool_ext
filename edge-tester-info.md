# Edge 市场测试人员信息

## 测试人员使用指南

### 扩展功能概述
API Proxy Tool 是一个用于前端开发的API代理工具，允许开发者拦截和重定向API请求到Mock服务器，无需修改源代码。

### 测试环境准备

**1. 安装步骤**
- 下载扩展包（.zip文件）
- 打开 Edge 浏览器，访问 `edge://extensions/`
- 开启"开发人员模式"
- 点击"加载解压缩的扩展"
- 选择解压后的扩展文件夹

**2. 权限说明**
- 扩展需要访问所有网站权限来拦截API请求
- 需要存储权限来保存配置数据
- 需要标签页权限来打开配置界面

### 核心功能测试

**1. 基础API代理功能**
- 点击扩展图标打开配置界面
- 创建新模块（如：test.module）
- 添加API配置：
  - 接口地址：`/api/test/users`
  - 重定向地址：`http://127.0.0.1:3000/mock/users`
  - 接口名称：测试用户接口
  - 匹配方式：contains
- 启用配置后访问包含该API的网页，验证请求被重定向

**2. 模块管理功能**
- 测试创建多个模块
- 测试模块间的切换
- 测试模块的启用/禁用
- 测试模块的删除功能

**3. 导入导出功能**
- 导出当前配置为JSON文件
- 导入JSON配置文件
- 验证配置数据的完整性

**4. Apifox同步功能**
- 配置Apifox本地地址：`http://127.0.0.1:4523/export/openapi/3?version=3.0`
- 选择标签进行API同步
- 验证同步后的API配置正确性

**5. 权限点生成功能**
- 在API配置中点击"复制权限点"
- 输入父级模块名称
- 验证生成的权限点JSON格式正确

### 测试用例

**测试用例1：基础代理功能**
1. 配置一个GET请求代理
2. 访问目标网页
3. 检查Network面板确认请求被重定向
4. 验证响应数据正确

**测试用例2：多种匹配方式**
1. 测试contains匹配（包含）
2. 测试exact匹配（精确）
3. 测试regex匹配（正则表达式）

**测试用例3：延迟功能**
1. 设置API响应延迟为2000ms
2. 发起请求
3. 验证响应确实延迟了2秒

**测试用例4：Mock响应**
1. 配置mockResponse模式
2. 设置Mock数据
3. 验证直接返回Mock数据而不重定向

**测试用例5：全局控制**
1. 配置多个API代理
2. 使用全局开关禁用所有代理
3. 验证所有代理都被禁用
4. 重新启用验证功能恢复

### 已知限制

**1. 浏览器兼容性**
- 需要支持Manifest V3的浏览器
- Edge版本要求：>= 88.0.0
- Chrome版本要求：>= 88.0.0

**2. 功能限制**
- 某些HTTPS网站可能限制扩展功能
- 大量API拦截可能影响页面性能
- 不支持WebSocket连接拦截

**3. 权限限制**
- 需要用户手动授权访问所有网站
- 某些企业环境可能限制扩展安装

### 故障排除

**常见问题1：扩展无法拦截请求**
- 检查扩展是否已启用
- 检查API配置是否正确
- 检查目标网站是否支持扩展功能

**常见问题2：配置界面无法打开**
- 检查扩展是否正确安装
- 尝试重新加载扩展
- 检查浏览器控制台是否有错误

**常见问题3：导入导出失败**
- 检查JSON文件格式是否正确
- 检查文件大小是否过大
- 检查浏览器存储空间

### 性能测试

**1. 内存使用**
- 监控扩展的内存占用
- 测试大量API配置时的性能表现

**2. 响应时间**
- 测试API拦截的响应时间
- 测试配置界面的加载速度

**3. 稳定性测试**
- 长时间运行测试
- 频繁切换配置测试
- 大量并发请求测试

### 安全测试

**1. 权限验证**
- 验证扩展只请求必要权限
- 测试权限被拒绝时的行为

**2. 数据安全**
- 验证配置数据的安全存储
- 测试敏感信息的处理

**3. 网络安全**
- 测试HTTPS请求的处理
- 验证重定向URL的安全性

### 用户体验测试

**1. 界面友好性**
- 测试配置界面的易用性
- 验证错误提示的清晰度

**2. 操作流程**
- 测试完整的使用流程
- 验证新用户的学习曲线

**3. 多语言支持**
- 测试中英文界面切换
- 验证文本显示正确性

### 测试数据

**示例API配置**
```json
{
  "apiDocKey": "test.module",
  "label": "测试模块",
  "apiArr": [
    {
      "apiKey": "/api/test/users",
      "apiName": "获取用户列表",
      "apiUrl": "https://api.example.com/users",
      "redirectURL": "http://127.0.0.1:3000/mock/users",
      "method": "get",
      "filterType": "contains",
      "delay": 0,
      "isOpen": true,
      "mockWay": "redirect",
      "statusCode": 200
    }
  ]
}
```

**测试网站推荐**
- https://httpbin.org/ - HTTP测试服务
- https://jsonplaceholder.typicode.com/ - JSON API测试
- 本地开发服务器 - 用于完整功能测试

### 测试完成标准

**功能完整性**
- ✅ 所有核心功能正常工作
- ✅ 配置保存和加载正确
- ✅ 导入导出功能正常
- ✅ 错误处理机制完善

**性能标准**
- ✅ 页面加载时间 < 2秒
- ✅ API拦截延迟 < 100ms
- ✅ 内存占用 < 50MB

**兼容性标准**
- ✅ Edge最新版本兼容
- ✅ Chrome最新版本兼容
- ✅ 主流网站功能正常

**安全标准**
- ✅ 权限使用合理
- ✅ 数据传输安全
- ✅ 无恶意行为

---

**注意**：此信息仅供Edge市场测试人员使用，不会显示给最终用户。测试时请确保在安全的测试环境中进行，避免影响生产数据。
