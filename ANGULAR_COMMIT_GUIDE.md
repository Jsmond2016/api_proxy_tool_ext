# ğŸš€ Angularæäº¤æ ¼å¼ + è‡ªåŠ¨åŒ–å·¥å…·é“¾ä½¿ç”¨æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

é¡¹ç›®ç°åœ¨ä½¿ç”¨Angularæäº¤æ ¼å¼è§„èŒƒï¼Œå¹¶é›†æˆäº†ä¸»æµçš„è‡ªåŠ¨åŒ–å·¥å…·é“¾ï¼Œå¤§å¤§ç®€åŒ–äº†changelogç”Ÿæˆå’ŒCIæµç¨‹ã€‚

## ğŸ› ï¸ å·¥å…·é“¾

### 1. Commitizen - äº¤äº’å¼æäº¤
```bash
# ä½¿ç”¨äº¤äº’å¼æäº¤å·¥å…·
pnpm run commit
```

### 2. Commitlint - æäº¤ä¿¡æ¯æ ¡éªŒ
- è‡ªåŠ¨æ ¡éªŒæäº¤ä¿¡æ¯æ ¼å¼
- é€šè¿‡huskyé’©å­åœ¨æäº¤å‰æ‰§è¡Œ
- æ”¯æŒè‡ªå®šä¹‰è§„åˆ™

### 3. Conventional Changelog - è‡ªåŠ¨ç”Ÿæˆchangelog
```bash
# ç”Ÿæˆæœ€æ–°ç‰ˆæœ¬çš„changelog
pnpm run changelog

# ç”Ÿæˆæ‰€æœ‰ç‰ˆæœ¬çš„changelog
pnpm run changelog:all
```

### 4. Husky - Gité’©å­ç®¡ç†
- è‡ªåŠ¨é…ç½®pre-commitå’Œcommit-msgé’©å­
- ç¡®ä¿ä»£ç è´¨é‡å’Œæäº¤è§„èŒƒ

## ğŸ“ æäº¤æ ¼å¼è§„èŒƒ

### åŸºæœ¬æ ¼å¼
```
<type>(<scope>): <subject>

<body>

<footer>
```

### ç±»å‹ (type)
- `feat`: æ–°åŠŸèƒ½
- `fix`: ä¿®å¤bug
- `docs`: æ–‡æ¡£å˜æ›´
- `style`: ä»£ç æ ¼å¼ï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰
- `refactor`: é‡æ„
- `perf`: æ€§èƒ½ä¼˜åŒ–
- `test`: å¢åŠ æµ‹è¯•
- `chore`: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨
- `ci`: CIé…ç½®æ–‡ä»¶å’Œè„šæœ¬çš„å˜åŠ¨
- `build`: æ„å»ºç³»ç»Ÿæˆ–å¤–éƒ¨ä¾èµ–çš„å˜åŠ¨
- `revert`: å›æ»šä¹‹å‰çš„commit

### ç¤ºä¾‹
```bash
# âœ… æ­£ç¡®çš„æäº¤ä¿¡æ¯
feat: Add user authentication system
fix: Resolve memory leak in data processing
docs: Update API documentation
chore: Update dependencies

# âŒ é”™è¯¯çš„æäº¤ä¿¡æ¯
test: invalid commit message  # ç¼ºå°‘é¦–å­—æ¯å¤§å†™
feat add feature              # ç¼ºå°‘å†’å·
```

## ğŸ”„ CIæµç¨‹ç®€åŒ–

### ä¹‹å‰ï¼ˆè‡ªå®šä¹‰è„šæœ¬ï¼‰
- å¤æ‚çš„bashè„šæœ¬å¤„ç†commitåˆ†ç±»
- æ‰‹åŠ¨è§£ægitå†å²
- å®¹æ˜“å‡ºé”™ï¼Œéš¾ä»¥ç»´æŠ¤

### ç°åœ¨ï¼ˆä½¿ç”¨å·¥å…·ï¼‰
- ä½¿ç”¨`conventional-changelog`å·¥å…·
- è‡ªåŠ¨è§£æAngularæ ¼å¼çš„æäº¤
- ç”Ÿæˆæ ‡å‡†åŒ–çš„changelog
- CIæµç¨‹æ›´ç®€æ´å¯é 

## ğŸ¯ ä½¿ç”¨æµç¨‹

### 1. å¼€å‘æ–°åŠŸèƒ½
```bash
# 1. ç¼–å†™ä»£ç 
# 2. ä½¿ç”¨äº¤äº’å¼æäº¤
pnpm run commit

# é€‰æ‹©ç±»å‹ï¼šfeat
# è¾“å…¥æè¿°ï¼šAdd user profile management
# è¾“å…¥è¯¦ç»†è¯´æ˜ï¼ˆå¯é€‰ï¼‰
# è¾“å…¥breaking changesï¼ˆå¯é€‰ï¼‰
```

### 2. å‘å¸ƒæ–°ç‰ˆæœ¬
```bash
# 1. æ›´æ–°ç‰ˆæœ¬å·
pnpm run version:patch  # æˆ– minor, major

# 2. æ¨é€è§¦å‘CI
git push origin main

# 3. CIè‡ªåŠ¨ï¼š
#    - ç”Ÿæˆchangelog
#    - æ„å»ºæ‰©å±•
#    - åˆ›å»ºrelease
#    - æ›´æ–°CHANGELOG.md
```

## ğŸ“Š ä¼˜åŠ¿å¯¹æ¯”

| æ–¹é¢ | ä¹‹å‰ï¼ˆè‡ªå®šä¹‰è„šæœ¬ï¼‰ | ç°åœ¨ï¼ˆå·¥å…·é“¾ï¼‰ |
|------|------------------|----------------|
| **ä»£ç é‡** | ~100è¡Œbashè„šæœ¬ | ~10è¡Œé…ç½® |
| **ç»´æŠ¤æ€§** | éœ€è¦æ‰‹åŠ¨ç»´æŠ¤ | å·¥å…·è‡ªåŠ¨å¤„ç† |
| **å¯é æ€§** | å®¹æ˜“å‡ºé”™ | ç»è¿‡éªŒè¯çš„å·¥å…· |
| **æ ‡å‡†åŒ–** | è‡ªå®šä¹‰æ ¼å¼ | Angularæ ‡å‡†æ ¼å¼ |
| **åŠŸèƒ½** | åŸºç¡€åˆ†ç±» | ä¸°å¯Œçš„åˆ†ç±»å’Œé“¾æ¥ |

## ğŸ”§ é…ç½®è¯´æ˜

### commitlint.config.js
```javascript
export default {
  extends: ['@commitlint/config-conventional'],
  rules: {
    'type-enum': [2, 'always', ['feat', 'fix', 'docs', ...]],
    'subject-case': [2, 'always', 'sentence-case'],
    'header-max-length': [2, 'always', 100]
  }
}
```

### package.json
```json
{
  "scripts": {
    "commit": "cz",
    "changelog": "conventional-changelog -p angular -i CHANGELOG.md -s -r 0"
  },
  "config": {
    "commitizen": {
      "path": "./node_modules/cz-conventional-changelog"
    }
  }
}
```

## ğŸ‰ æ€»ç»“

é€šè¿‡å¼•å…¥Angularæäº¤æ ¼å¼å’Œä¸»æµå·¥å…·é“¾ï¼š

1. **ç®€åŒ–äº†å¼€å‘æµç¨‹**ï¼šäº¤äº’å¼æäº¤å·¥å…·å¼•å¯¼å¼€å‘è€…ä½¿ç”¨æ­£ç¡®æ ¼å¼
2. **æé«˜äº†ä»£ç è´¨é‡**ï¼šè‡ªåŠ¨æ ¡éªŒç¡®ä¿æäº¤ä¿¡æ¯è§„èŒƒ
3. **è‡ªåŠ¨åŒ–äº†changelog**ï¼šæ— éœ€æ‰‹åŠ¨ç»´æŠ¤ï¼Œå·¥å…·è‡ªåŠ¨ç”Ÿæˆ
4. **å‡å°‘äº†ç»´æŠ¤æˆæœ¬**ï¼šä½¿ç”¨æˆç†Ÿå·¥å…·ï¼Œå‡å°‘è‡ªå®šä¹‰è„šæœ¬
5. **æå‡äº†ä¸“ä¸šæ€§**ï¼šç¬¦åˆè¡Œä¸šæ ‡å‡†ï¼Œä¾¿äºå›¢é˜Ÿåä½œ

ç°åœ¨åªéœ€è¦ä¸“æ³¨äºä»£ç å¼€å‘ï¼Œå·¥å…·é“¾ä¼šè‡ªåŠ¨å¤„ç†æäº¤è§„èŒƒã€changelogç”Ÿæˆå’ŒCIæµç¨‹ï¼
